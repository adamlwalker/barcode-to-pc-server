<!--
  Generated template for the InfoPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="secondary">
    <ion-title>Info</ion-title>

    <ion-buttons end>
      <button ion-button icon-start solid color="secondary" (click)="close()">
        <ion-icon name="close"></ion-icon>
      </button>
    </ion-buttons>

  </ion-navbar>

</ion-header>


<ion-content padding text-center>
  <ion-list>
    <ion-item>
      <ion-thumbnail item-start>
        <img src="assets/logo.jpg">
      </ion-thumbnail>
      <h1>{{ getAppName() }}</h1>
    </ion-item>

    <ion-item text-wrap> 
      <ion-thumbnail item-start>
        <ion-icon [hidden]="updateStatus == 'checkingForUpdate'" style="font-size: 2em; margin: 22px 10px 0 38px;" small
          [name]="getUpdateIcon()"></ion-icon>
        <ion-spinner [hidden]="updateStatus != 'checkingForUpdate'" style="font-size: 2em; margin: 22px 10px 0 38px;">
        </ion-spinner>
      </ion-thumbnail>
      <h2>{{ getUpdateStatus() }}</h2>
      <p>Version: {{ getVersion() }}</p>
      <p>Last checked: {{ getLastUpdateCheck() }}</p>
      <button ion-button color="secondary" item-end (click)="onUpdateClick()"
        [disabled]="updateStatus == 'checkingForUpdate'">{{ getUpdateButtonText() }}</button>
    </ion-item>

    <ion-item text-wrap>
      <ion-thumbnail item-start></ion-thumbnail>
      <ion-label>
        <h2>Enable automatic updates</h2>
        <p>
          ⚠️Warning: If you disable automatic updates for the server you also must make sure that the version of the app is still supported from the server. If the app version doesn't match the server's one you may encounter incompatibility issues.
        </p>
      </ion-label>
      <ion-toggle (ionChange)="onAutoUpdateChange($event)" [(ngModel)]="settings && settings.autoUpdate" color="secondary"></ion-toggle>
    </ion-item>

    <ion-item>
      <ion-thumbnail item-start> </ion-thumbnail>
      <h2>Website</h2>
      <p><a (click)="electronProvider.shell.openExternal(getWebSiteUrl())">{{ getWebSiteName() }}</a></p>
    </ion-item>

    <ion-item>
      <ion-thumbnail item-start> </ion-thumbnail>
      <h2>Support e-mail</h2>
      <p><a (click)="electronProvider.shell.openExternal(getMailUrl())">{{ getMail() }}</a></p>
    </ion-item>
  </ion-list>
</ion-content>